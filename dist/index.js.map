{"version":3,"sources":["index.js"],"names":["document","init","Promise","resolve","reject","setTimeout","delay","title","text","actionName","actionLink","then","data","console","log","l","createElement","setAttribute","getElementsByTagName","appendChild","body","innerHTML","querySelector","onreadystatechange","readyState"],"mappings":";CAAA,SAAUA,GAwBCC,SAAAA,IAtBA,IAAIC,QAAQ,SAASC,EAASC,GACnCC,WAAW,WACTF,EAAQ,CACNG,MAAO,IACPC,MAAO,2BACPC,KAHM,2FAINC,WAAY,cACZC,WAAY,WAEb,OAeOC,KAAK,SAAUC,GACzBC,QAAQC,IAAI,gBACJP,IAZNQ,EAYMR,EAA+CK,EAA/CL,MAAOC,EAAwCI,EAAxCJ,KAAME,EAAkCE,EAAlCF,WAAYD,EAAsBG,EAAtBH,WAAYH,EAAUM,EAAVN,MAC7CO,QAAQC,IAAI,IAAKR,IAbfS,EAAIf,EAASgB,cAAc,SAC7BC,aAAa,MAAO,cACtBF,EAAEE,aAAa,OAAQ,YACvBF,EAAEE,aAAa,OAAQ,iBACvBjB,EAASkB,qBAAqB,QAAQ,GAAGC,YAAYJ,GACrDF,QAAQC,IAAIC,GAYVf,EAASoB,KAAKC,WAEHd,0GAAAA,OAAAA,EACAC,2BAAAA,OAAAA,EACIE,+BAAAA,OAAAA,EAAeD,MAAAA,OAAAA,EAJ9B,kCAQAJ,WAAW,WACTL,EAASsB,cAAc,gBAAgBL,aAAa,qBAAqB,IACxEX,KAIPN,EAASuB,mBAAqB,WACA,aAAxBvB,EAASwB,YACXvB,KAjDN,CAoDGD","file":"index.js","sourceRoot":"..","sourcesContent":["(function(document) {\n  function getConfig() {\n    return new Promise(function(resolve, reject) {\n      setTimeout(function() {\n        resolve({\n          delay: 6000,\n          title: 'Sign up to ur newsletter',\n          text: `We know that you have a lot of questions, we've tried to list the most important ones ðŸ˜‡`,\n          actionName: 'Sign up now',\n          actionLink: '#!lol',\n        });\n      }, 350);\n    });\n  }\n\n  function createStyles() {\n    var l = document.createElement('link')\n    l.setAttribute(\"rel\", 'stylesheet');\n    l.setAttribute(\"type\", \"text/css\");\n    l.setAttribute(\"href\", '../styles.css');\n    document.getElementsByTagName(\"head\")[0].appendChild(l)\n    console.log(l)\n  }\n\n  function init() {\n    \n    getConfig().then(function (data) {\n      console.log('hello widget')\n      const { title, text, actionLink, actionName, delay } = data\n      console.log('t', delay)\n      \n      createStyles()\n\n      document.body.innerHTML += `\n        <div class=\"ww\" web-widget style=\"transform: translateY(calc(100% + 32px))\">\n          <div>${title}</div>\n          <div>${text}</div>\n          <a href=\"${actionLink}\">${actionName}</a>\n        </div>\n        `\n\n      setTimeout(function() {\n        document.querySelector('[web-widget]').setAttribute('web-widget-active', true)\n      }, delay);\n    })\n  }\n\n  document.onreadystatechange = function () {\n    if (document.readyState === 'complete') {\n      init();\n    }\n  }\n})(document)"]}